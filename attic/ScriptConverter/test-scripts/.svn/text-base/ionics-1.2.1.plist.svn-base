{ "ionics_v_rlf" = ( 	{ 	conditions = ("galaxy_number equal 1"); 	do = ( 		{ 			conditions = ("dockedAtMainStation_bool equal YES"); 			do = ( 				/**Side with RLF**/				{ 					/**Zaria: First visit to Zaria.**/					conditions = ( 						"mission_ionics undefined", 						"planet_number equal 251" 					); 					do = ( 						"setMissionImage: none", 						setGuiToMissionScreen, 						"addMissionText: zaria_news_1",						"set: mission_ionics PRE_STAGE1",						"set: mission_ionics_ramaza_status RLF_1"					); 				},				{ 					/**Ramaza: First orders**/					conditions = ( 						"mission_ionics equal PRE_STAGE1", 						"planet_number equal 26"					); 					do = ( 						"setMissionImage: none", 						setGuiToMissionScreen, 						"addMissionText: order_1", 						"setMissionChoices: question_1", 						"set: mission_ionics PRE_STAGE1-2", 						"setMissionDescription: ionics_short_desc1" 					); 				}, 				{ 					/**Ramaza: Rejected RLF offer**/					conditions = ( 						"mission_ionics equal PRE_STAGE1-2", 						"planet_number equal 26", 						"missionChoice_string equal REJECT_OFFER_1" 					); 					do = ( 						"set: mission_ionics MISSION_COMPLETE_1", 						clearMissionDescription					); 				},				{ 					/**Ramaza: Accepted RLF offer**/					conditions = ( 						"mission_ionics equal PRE_STAGE1-2", 						"planet_number equal 26", 						"missionChoice_string equal ACCEPT_OFFER_1" 					); 					do = ( 						"set: mission_ionics STAGE1"					); 				},				{ 					/**Zaria: Collected package**/					conditions = ( 							"mission_ionics equal STAGE1", 							"planet_number equal 251" 					); 					do = ( 							"setMissionImage: none", 							setGuiToMissionScreen, 							"awardCredits: 500", 							"addMissionText: order_2a", 							"set: mission_ionics STAGE2A", 							"setMissionDescription: ionics_short_desc2a" 					); 				}, 				{					/**Zaria: Rejected Ionics offer. Missions end completely**/					conditions = ( 							"mission_ionics equal STAGE2B", 							"planet_number equal 251", 							"missionChoice_string equal REJECT_OFFER_2B" 					); 					do = ( 							"set: mission_ionics MISSION_COMPLETE_2B", 							clearMissionDescription 					); 				},				{ 					/**Ramaza: Package delivered. RLF make offer to destroy fleet**/					conditions = ( 						"mission_ionics equal STAGE2A", 						"planet_number equal 26" 					); 					do = ( 						"setMissionMusic: none", 						"showShipModel: none", 						"setMissionImage: none", 						setGuiToMissionScreen, 						"addMissionText: order_3a", 						"awardCredits: 500", 						"setMissionChoices: question_3", 						"set: mission_ionics STAGE3A", 						"setMissionDescription: ionics_short_desc3a" 					); 				}, 				{					/**Ramaza: Rejected offer to destroy fleet. Missions end completely**/					conditions = ( 							"mission_ionics equal STAGE3A", 							"planet_number equal 26", 							"missionChoice_string equal REJECT_OFFER_3A" 					); 					do = ( 							"set: mission_ionics MISSION_COMPLETE_3A", 							clearMissionDescription 					); 				}, 				{ 					/**Zaria: Ionics fleet destroyed, refuelling for trip back to Ramaza.**/					conditions = ( 						"mission_ionics equal MISSION_SUCCESSFUL_B", 						"planet_number equal 251"					); 					do = ( 						setGuiToMissionScreen, 						"addMissionText: zaria_news_2", 						"set: mission_ionics ZARIA_NEWS_2", 						"setMissionDescription: ionics_short_desc4"					); 				},				{ 					/**Ramaza: Ionics fleet destroyed, RLF makes payment.**/					conditions = ( 						"mission_ionics equal MISSION_SUCCESSFUL_B", 						"planet_number equal 26"					); 					do = ( 						"setMissionImage: none", 						setGuiToMissionScreen, 						"awardCredits: 15000", 						"addMissionText: order_4a", 						"set: mission_ionics MISSION_COMPLETE_A", 						clearMissionDescription 					); 				},				{ 					/**Ramaza: Ionics fleet destroyed, RLF makes payment.**/					conditions = ( 						"mission_ionics equal ZARIA_NEWS_2", 						"planet_number equal 26" 					); 					do = ( 						"setMissionImage: none", 						setGuiToMissionScreen, 						"awardCredits: 15000", 						"addMissionText: order_4a", 						"set: mission_ionics MISSION_COMPLETE_A", 						clearMissionDescription 					); 				},				{					/**Zaria: The Link becomes involved**/					conditions = (						"mission_ionics equal MISSION_COMPLETE_A",						"planet_number equal 251"					);					do = (						"setMissionImage: none", 						setGuiToMissionScreen, 						"addMissionText: zaria_news_3",						"set: mission_ionics ZARIA_NEWS_3",						"set: mission_ionics_ramaza_status RLF_2"					);				}, 				{					/**Cevera: Pick up equipment.**/					conditions = ( 						"mission_ionics equal STAGE5",						"planet_number equal 198"					);					do = (						setGuiToMissionScreen,						"addMissionText: order_6",						"set: mission_ionics STAGE6",						"setMissionDescription: ionics_short_desc6"					);				},																												/**Side with Ionics**/				{ 					/**Zaria: Ionics makes offer**/					conditions = ( 							"mission_ionics equal MISSION_COMPLETE_1", 							"planet_number equal 251" 					); 					do = ( 						"setMissionImage: none", 						setGuiToMissionScreen, 						"addMissionText: order_2b", 						"setMissionChoices: question_2b", 						"set: mission_ionics STAGE2B", 						"setMissionDescription: ionics_short_desc2b"					); 				}, 				{ 					/**Ramaza: RLF infiltrated.**/					conditions = ( "mission_ionics equal STAGE2B", "planet_number equal 26" ); 					do = ( 						"setMissionMusic: none",						"showShipModel: none", 						"setMissionImage: none", 						setGuiToMissionScreen, 						"addMissionText: order_3b", 						"set: mission_ionics STAGE3B", 						"setMissionDescription: ionics_short_desc3b" 					); 				}, 				{ 					/**Zaria: RLF infiltrated. Ionics makes payment.**/					conditions = ( 						"mission_ionics equal STAGE3B", 						"planet_number equal 251" 					); 					do = ( 						"setMissionMusic: none", 						"showShipModel: none", 						"setMissionImage: none", 						setGuiToMissionScreen, 						"awardCredits: 1500", 						"addMissionText: order_4b", 						"set: mission_ionics MISSION_COMPLETE_B", 						clearMissionDescription 					); 				}			); 		}, 		{			/**Ramaza: First time docked at The Link base.**/			conditions = ( 				"planet_number equal 26", 				"dockedStationName_string equal The Link Base", 				"mission_ionics equal ZARIA_NEWS_3" 			);			do = ( 				setGuiToMissionScreen, 				"addMissionText: order_5", 				"setMissionChoices: question_4", 				"set: mission_ionics PRE_STAGE5", 				"setMissionDescription: ionics_short_desc5" 			);			},		{			/**Ramaza: First time docked at The Link base, answer question about The Link**/			conditions = ( 				"planet_number equal 26", 				"dockedStationName_string equal The Link Base", 				"mission_ionics equal PRE_STAGE5", 				"missionChoice_string equal WHAT_IS_THE_LINK" 			);			do = ( 				setGuiToMissionScreen, 				"addMissionText: answer_1", 				"setMissionChoices: question_5" 			);			},		{			/**Ramaza: First time docked at The Link base, reject mission. END.**/			conditions = ( 				"planet_number equal 26", 				"dockedStationName_string equal The Link Base", 				"mission_ionics equal PRE_STAGE5", 				"missionChoice_string equal REJECT_OFFER_4" 			);			do = ( 				clearMissionDescription, 				"set: mission_ionics MISSION_REJECTED_STAGE5" 			);			},		{			/**Ramaza: First time docked at The Link base, accept mission.**/			conditions = ( 				"planet_number equal 26", 				"dockedStationName_string equal The Link Base", 				"mission_ionics equal PRE_STAGE5", 				"missionChoice_string equal ACCEPT_OFFER_4" 			);			do = ( 				"set: mission_ionics STAGE5" 			);			},		{			/**Ramaza: Second docking, admitted to The Link.**/			conditions = ( 				"planet_number equal 26", 				"dockedStationName_string equal The Link Base", 				"mission_ionics equal STAGE6" 			);			do = (				setGuiToMissionScreen, 				"addMissionText: order_7", 				"set: mission_ionics STAGE7", 				"setMissionDescription: ionics_short_desc7" 			);		},		{			/**Ramaza: Setup war in Ramaza.**/			conditions = ( 				"planet_number equal 26", 				"dockedStationName_string equal The Link Base", 				"mission_ionics equal STAGE7" 			);			do = (				"set: mission_ionics_government_fleet_size 200", 				"set: mission_ionics_link_fleet_size 100", 				"set: mission_ionics_rlf_fleet_size 50", 				"set: mission_ionics_enemies_killed 0", 				"set: mission_ionics WAR_IN_RAMAZA", 				"set: mission_ionics_display_stats FALSE", 				"set: mission_ionics_ramaza_status RLF_3" 			);		},		{			/**Ramaza: In flight, set mission_ionics_display_stats to TRUE .**/			conditions = ( 				"planet_number equal 26",				"status_string equal STATUS_LAUNCHING", 				"mission_ionics_display_stats equal FALSE",				"mission_ionics equal WAR_IN_RAMAZA"			);			do = (				"set: mission_ionics_display_stats TRUE"			);		},		{			/**Ramaza: Docked at Link Base, free refuel and display war progress.**/			conditions = ( 				"planet_number equal 26",				"dockedStationName_string equal The Link Base", 				"mission_ionics_display_stats equal TRUE",				"mission_ionics equal WAR_IN_RAMAZA"			);			do = (				setGuiToMissionScreen,				"addMissionText: war_progress", 				"awardFuel: 7",				"awardEquipment: EQ_MISSILE",				"awardEquipment: EQ_MISSILE",				"awardEquipment: EQ_MISSILE",				"awardEquipment: EQ_MISSILE",				"awardEquipment: EQ_MISSILE",				"awardEquipment: EQ_MISSILE",				"setLegalStatus: 0",				"set: mission_ionics_display_stats FALSE"			);		},		{			/**Ramaza: Docked at Link Base, war is won**/			conditions = ( 				"planet_number equal 26",				"dockedStationName_string equal The Link Base", 				"mission_ionics equal WAR_IN_RAMAZA_VICTORY"			);			do = (				setGuiToMissionScreen,				"addMissionText: ramaza_victory",				"set: mission_ionics RAMAZA_WAR_OVER",				"set: mission_ionics_ramaza_status LIBERATED",				"set: mission_ionics_link_rank PRIVATE",				clearMissionDescription			);		},		{ 			conditions = ("status_string equal STATUS_EXITING_WITCHSPACE"); 			do = ( 				{					/**Ramaza: Delivering package, Ionics assassin strikes (maybe).**/					conditions = ( 						"mission_ionics equal STAGE2A",						"planet_number equal 26", 						"d100_number lessthan 51" /**50% chance**/					);					do = ( 						"addShipsAt: redback 1 wpm 0 0 1500",						"commsMessage: Die rebel scum!"					);				},				{ 					/**Zaria: Setup Ionics fleet delivery battle**/					conditions = ( 						"mission_ionics equal STAGE3A", 						"planet_number equal 251"					); 					do = ( 												"addShipsAt: funnelweb_mission 1 wpm 0 0 10000", 						"addShipsAt: redback_mission 2 wpm 0 0 9500", 						"addShipsAt: whitetail_mission 4 wpm 0 0 9250",						"addShipsAt: rlf_leader 1 wpm 0 0 2000",						"addShipsAt: rlf_fighter 4 wpm 0 0 2500",						"set: mission_ionics STAGE3A_FIGHT" 					); 				},				{					/**Ramaza: Link sends comms message to commander**/					conditions = (						"planet_number equal 26",						"mission_ionics equal ZARIA_NEWS_3"					);					do = (						"commsMessage: Please dock at The Link Base, we urgently require your assistance. The coordinates have been uploaded to your space compass."					);				},				{					/**Anywhere: Ramazan government attacks**/					conditions = (						"mission_ionics equal STAGE5",						"d100_number lessthan 75" /**75% chance**/					);					do = (						"addShipsAt: whitetail_mission 4 wpm 0 0 -1000",						"commsMessage: You will pay dearly for your interference Commander!"					);				}			); 		}	); 	},	{ 		/**Zaria: Funnelweb dead**/		conditions = ( 			"status_string equal STATUS_IN_FLIGHT",			"mission_ionics equal MISSION_SUCCESSFUL_A", 			"planet_number equal 251"		); 		do = ( 			"commsMessage: Congratulations [commander_name]! You head back to Ramaza, we'll take it from here.",			"set: mission_ionics MISSION_SUCCESSFUL_B"					); 	},	{		/**Ramaza: War in Ramaza in progress. Check fleets & add ships if necessary.**/		conditions = ( 			"mission_ionics equal WAR_IN_RAMAZA", 			"status_string equal STATUS_IN_FLIGHT", 			"galaxy_number equal 1", 			"planet_number equal 26"		);		do = (			"checkForShips: ramazan_government_vessel",			{				conditions = (					"shipsFound_number equal 0",						"mission_ionics_government_fleet_size greaterthan 5"				);				do = (					debugOn,					"addSystemShips: ramazan_government_vessel 5 0.95",					debugOff				);			},			"checkForShips: ramazan_government_vessel",			{				conditions = (					"shipsFound_number equal 0",					"mission_ionics_government_fleet_size greaterthan 0",					"mission_ionics_government_fleet_size lessthan 6"				);				do = (					debugOn,					"addSystemShips: ramazan_government_vessel 1 0.95",					debugOff				);			},			"checkForShips: link_vessel",			{				conditions = (					"shipsFound_number equal 0",					"mission_ionics_link_fleet_size greaterthan 3"				);				do = (					debugOn,					"addShipsAt: link_vessel 3 wpm 0 200000 200000",					debugOff				);			},			"checkForShips: link_vessel",			{				conditions = (					"shipsFound_number equal 0",					"mission_ionics_link_fleet_size greaterthan 0",					"mission_ionics_link_fleet_size lessthan 4"				);				do = (					debugOn,					"addShipsAt: link_vessel 1 wpm 0 200000 200000",					debugOff				);			},			"checkForShips: RLF_vessel",			{				conditions = (					"shipsFound_number equal 0",					"mission_ionics_rlf_fleet_size greaterthan 2"				);				do = (					debugOn,					"addShipsAt: RLF_vessel 2 wpm 0 200000 200000",					debugOff				);			},			"checkForShips: RLF_vessel",			{				conditions = (					"shipsFound_number equal 0",					"mission_ionics_rlf_fleet_size greaterthan 0",					"mission_ionics_rlf_fleet_size lessthan 3"				);				do = (					debugOn,					"addShipsAt: RLF_vessel 1 wpm 0 200000 200000",					debugOff				);			},			{				conditions = (					"mission_ionics_government_fleet_size equal 0"				);				do = (					"set: mission_ionics WAR_IN_RAMAZA_VICTORY",					"commsMessage: We've won the war!!! All vessels return to base for debriefing"				);			}		);	}	); } 